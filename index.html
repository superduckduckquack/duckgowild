<script>
    const duck = document.querySelector('.duck');
    const steps = document.getElementById('steps');
    const speed = 2;

    let x = 0;
    let y = 0;

    duck.style.left = x + 'px';
    duck.style.top = y + 'px';

    let lastStepTime = 0; // guarda o último momento que o som tocou
    const stepInterval = 300; // intervalo mínimo em ms entre sons

    function randomPosition() {
        if (Math.random() < 0.5) {
            x = 0;
            y = Math.random() * (window.innerHeight - 150);
        } else {
            x = Math.random() * (window.innerWidth - 150);
            y = 0;
        }
        duck.style.transform = 'scaleX(1)';
    }

    function animate(timestamp) {
        y += speed;
        x += speed * 0.5;

        duck.style.left = x + 'px';
        duck.style.top = y + 'px';

        // toca som se passou tempo suficiente desde a última vez
        if (timestamp - lastStepTime > stepInterval) {
            steps.currentTime = 0;
            steps.play();
            lastStepTime = timestamp;
        }

        if (y > window.innerHeight || x > window.innerWidth) {
            randomPosition();
        }

        requestAnimationFrame(animate);
    }

    requestAnimationFrame(animate);
</script>
